<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS Drumkit</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	
	<div class="drumkit">
		<div class="key" data-key="65">
			<p>A</p>
			<span>clap</span>
		</div>
		<div class="key" data-key="83">
			<p>S</p>
			<span>hihat</span>
		</div>
		<div class="key" data-key="68">
			<p>D</p>
			<span>kick</span>
		</div>
		<div class="key" data-key="70">
			<p>F</p>
			<span>openhat</span>
		</div>
		<div class="key" data-key="71">
			<p>G</p>
			<span>boom</span>
		</div>
		<div class="key" data-key="72">
			<p>H</p>
			<span>ride</span>
		</div>
		<div class="key" data-key="74">
			<p>J</p>
			<span>snare</span>
		</div>
		<div class="key" data-key="75">
			<p>K</p>
			<span>tom</span>
		</div>
		<div class="key" data-key="76">
			<p>L</p>
			<span>tink</span>
		</div>
	</div>
	
	
	<audio src="sounds/clap.wav" data-key="65"></audio>
	<audio src="sounds/hihat.wav" data-key="83"></audio>
	<audio src="sounds/kick.wav" data-key="68"></audio>
	<audio src="sounds/openhat.wav" data-key="70"></audio>
	<audio src="sounds/boom.wav" data-key="71"></audio>
	<audio src="sounds/ride.wav" data-key="72"></audio>
	<audio src="sounds/snare.wav" data-key="74"></audio>
	<audio src="sounds/tom.wav" data-key="75"></audio>
	<audio src="sounds/tink.wav" data-key="76"></audio>
	<script>
		window.addEventListener('keydown', playSound);

		const keys = document.querySelectorAll('.key');
		keys.forEach(key => key.addEventListener('transitionend', removeTransition))

		function playSound(e){
			const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
			const key = document.querySelector(`.key[data-key="${e.keyCode}"]`)
			if(!audio) return;
			audio.currentTime = 0;
			audio.play();
			key.classList.add('playing');
		}

		function removeTransition(e){
			if(e.propertyName !== 'transform') return;

			this.classList.remove('playing')
		}
	</script>
</body>
</html>